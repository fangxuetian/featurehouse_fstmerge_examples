

package com.lowagie.text.xml.simpleparser;

import java.util.HashMap;



public class EntitiesToUnicode {
    
    
    public static final HashMap<String, Character> map = new HashMap<String, Character>();
    static {
        map.put("nbsp", new Character('\u')); 
        map.put("iexcl", new Character('\u')); 
        map.put("cent", new Character('\u')); 
        map.put("pound", new Character('\u')); 
        map.put("curren", new Character('\u')); 
        map.put("yen", new Character('\u')); 
        map.put("brvbar", new Character('\u')); 
        map.put("sect", new Character('\u')); 
        map.put("uml", new Character('\u')); 
        map.put("copy", new Character('\u')); 
        map.put("ordf", new Character('\u')); 
        map.put("laquo", new Character('\u')); 
        map.put("not", new Character('\u')); 
        map.put("shy", new Character('\u')); 
        map.put("reg", new Character('\u')); 
        map.put("macr", new Character('\u')); 
        map.put("deg", new Character('\u')); 
        map.put("plusmn", new Character('\u')); 
        map.put("sup2", new Character('\u')); 
        map.put("sup3", new Character('\u')); 
        map.put("acute", new Character('\u')); 
        map.put("micro", new Character('\u')); 
        map.put("para", new Character('\u')); 
        map.put("middot", new Character('\u')); 
        map.put("cedil", new Character('\u')); 
        map.put("sup1", new Character('\u')); 
        map.put("ordm", new Character('\u')); 
        map.put("raquo", new Character('\u')); 
        map.put("frac14", new Character('\u')); 
        map.put("frac12", new Character('\u')); 
        map.put("frac34", new Character('\u')); 
        map.put("iquest", new Character('\u')); 
        map.put("Agrave", new Character('\u')); 
        map.put("Aacute", new Character('\u')); 
        map.put("Acirc", new Character('\u')); 
        map.put("Atilde", new Character('\u')); 
        map.put("Auml", new Character('\u')); 
        map.put("Aring", new Character('\u')); 
        map.put("AElig", new Character('\u')); 
        map.put("Ccedil", new Character('\u')); 
        map.put("Egrave", new Character('\u')); 
        map.put("Eacute", new Character('\u')); 
        map.put("Ecirc", new Character('\u')); 
        map.put("Euml", new Character('\u')); 
        map.put("Igrave", new Character('\u')); 
        map.put("Iacute", new Character('\u')); 
        map.put("Icirc", new Character('\u')); 
        map.put("Iuml", new Character('\u')); 
        map.put("ETH", new Character('\u')); 
        map.put("Ntilde", new Character('\u')); 
        map.put("Ograve", new Character('\u')); 
        map.put("Oacute", new Character('\u')); 
        map.put("Ocirc", new Character('\u')); 
        map.put("Otilde", new Character('\u')); 
        map.put("Ouml", new Character('\u')); 
        map.put("times", new Character('\u')); 
        map.put("Oslash", new Character('\u')); 
        map.put("Ugrave", new Character('\u')); 
        map.put("Uacute", new Character('\u')); 
        map.put("Ucirc", new Character('\u')); 
        map.put("Uuml", new Character('\u')); 
        map.put("Yacute", new Character('\u')); 
        map.put("THORN", new Character('\u')); 
        map.put("szlig", new Character('\u')); 
        map.put("agrave", new Character('\u')); 
        map.put("aacute", new Character('\u')); 
        map.put("acirc", new Character('\u')); 
        map.put("atilde", new Character('\u')); 
        map.put("auml", new Character('\u')); 
        map.put("aring", new Character('\u')); 
        map.put("aelig", new Character('\u')); 
        map.put("ccedil", new Character('\u')); 
        map.put("egrave", new Character('\u')); 
        map.put("eacute", new Character('\u')); 
        map.put("ecirc", new Character('\u')); 
        map.put("euml", new Character('\u')); 
        map.put("igrave", new Character('\u')); 
        map.put("iacute", new Character('\u')); 
        map.put("icirc", new Character('\u')); 
        map.put("iuml", new Character('\u')); 
        map.put("eth", new Character('\u')); 
        map.put("ntilde", new Character('\u')); 
        map.put("ograve", new Character('\u')); 
        map.put("oacute", new Character('\u')); 
        map.put("ocirc", new Character('\u')); 
        map.put("otilde", new Character('\u')); 
        map.put("ouml", new Character('\u')); 
        map.put("divide", new Character('\u')); 
        map.put("oslash", new Character('\u')); 
        map.put("ugrave", new Character('\u')); 
        map.put("uacute", new Character('\u')); 
        map.put("ucirc", new Character('\u')); 
        map.put("uuml", new Character('\u')); 
        map.put("yacute", new Character('\u')); 
        map.put("thorn", new Character('\u')); 
        map.put("yuml", new Character('\u')); 
        
        map.put("fnof", new Character('\u')); 
        
        map.put("Alpha", new Character('\u')); 
        map.put("Beta", new Character('\u')); 
        map.put("Gamma", new Character('\u')); 
        map.put("Delta", new Character('\u')); 
        map.put("Epsilon", new Character('\u')); 
        map.put("Zeta", new Character('\u')); 
        map.put("Eta", new Character('\u')); 
        map.put("Theta", new Character('\u')); 
        map.put("Iota", new Character('\u')); 
        map.put("Kappa", new Character('\u')); 
        map.put("Lambda", new Character('\u')); 
        map.put("Mu", new Character('\u')); 
        map.put("Nu", new Character('\u')); 
        map.put("Xi", new Character('\u')); 
        map.put("Omicron", new Character('\u')); 
        map.put("Pi", new Character('\u')); 
        map.put("Rho", new Character('\u')); 
        
        map.put("Sigma", new Character('\u')); 
        map.put("Tau", new Character('\u')); 
        map.put("Upsilon", new Character('\u')); 
        map.put("Phi", new Character('\u')); 
        map.put("Chi", new Character('\u')); 
        map.put("Psi", new Character('\u')); 
        map.put("Omega", new Character('\u')); 
        map.put("alpha", new Character('\u')); 
        map.put("beta", new Character('\u')); 
        map.put("gamma", new Character('\u')); 
        map.put("delta", new Character('\u')); 
        map.put("epsilon", new Character('\u')); 
        map.put("zeta", new Character('\u')); 
        map.put("eta", new Character('\u')); 
        map.put("theta", new Character('\u')); 
        map.put("iota", new Character('\u')); 
        map.put("kappa", new Character('\u')); 
        map.put("lambda", new Character('\u')); 
        map.put("mu", new Character('\u')); 
        map.put("nu", new Character('\u')); 
        map.put("xi", new Character('\u')); 
        map.put("omicron", new Character('\u')); 
        map.put("pi", new Character('\u')); 
        map.put("rho", new Character('\u')); 
        map.put("sigmaf", new Character('\u')); 
        map.put("sigma", new Character('\u')); 
        map.put("tau", new Character('\u')); 
        map.put("upsilon", new Character('\u')); 
        map.put("phi", new Character('\u')); 
        map.put("chi", new Character('\u')); 
        map.put("psi", new Character('\u')); 
        map.put("omega", new Character('\u')); 
        map.put("thetasym", new Character('\u')); 
        map.put("upsih", new Character('\u')); 
        map.put("piv", new Character('\u')); 
        
        map.put("bull", new Character('\u')); 
        
        map.put("hellip", new Character('\u')); 
        map.put("prime", new Character('\u')); 
        map.put("Prime", new Character('\u')); 
        map.put("oline", new Character('\u')); 
        map.put("frasl", new Character('\u')); 
        
        map.put("weierp", new Character('\u')); 
        map.put("image", new Character('\u')); 
        map.put("real", new Character('\u')); 
        map.put("trade", new Character('\u')); 
        map.put("alefsym", new Character('\u')); 
        
        
        
        map.put("larr", new Character('\u')); 
        map.put("uarr", new Character('\u')); 
        map.put("rarr", new Character('\u')); 
        map.put("darr", new Character('\u')); 
        map.put("harr", new Character('\u')); 
        map.put("crarr", new Character('\u')); 
        map.put("lArr", new Character('\u')); 
        
        
        
        map.put("uArr", new Character('\u')); 
        map.put("rArr", new Character('\u')); 
        
        
        
        map.put("dArr", new Character('\u')); 
        map.put("hArr", new Character('\u')); 
        
        map.put("forall", new Character('\u')); 
        map.put("part", new Character('\u')); 
        map.put("exist", new Character('\u')); 
        map.put("empty", new Character('\u')); 
        map.put("nabla", new Character('\u')); 
        map.put("isin", new Character('\u')); 
        map.put("notin", new Character('\u')); 
        map.put("ni", new Character('\u')); 
        
        map.put("prod", new Character('\u')); 
        
        
        map.put("sum", new Character('\u')); 
        
        
        map.put("minus", new Character('\u')); 
        map.put("lowast", new Character('\u')); 
        map.put("radic", new Character('\u')); 
        map.put("prop", new Character('\u')); 
        map.put("infin", new Character('\u')); 
        map.put("ang", new Character('\u')); 
        map.put("and", new Character('\u')); 
        map.put("or", new Character('\u')); 
        map.put("cap", new Character('\u')); 
        map.put("cup", new Character('\u')); 
        map.put("int", new Character('\u')); 
        map.put("there4", new Character('\u')); 
        map.put("sim", new Character('\u')); 
        
        
        map.put("cong", new Character('\u')); 
        map.put("asymp", new Character('\u')); 
        map.put("ne", new Character('\u')); 
        map.put("equiv", new Character('\u')); 
        map.put("le", new Character('\u')); 
        map.put("ge", new Character('\u')); 
        map.put("sub", new Character('\u')); 
        map.put("sup", new Character('\u')); 
        
        
        
        map.put("nsub", new Character('\u')); 
        map.put("sube", new Character('\u')); 
        map.put("supe", new Character('\u')); 
        map.put("oplus", new Character('\u')); 
        map.put("otimes", new Character('\u')); 
        map.put("perp", new Character('\u')); 
        map.put("sdot", new Character('\u')); 
        
        
        map.put("lceil", new Character('\u')); 
        map.put("rceil", new Character('\u')); 
        map.put("lfloor", new Character('\u')); 
        map.put("rfloor", new Character('\u')); 
        map.put("lang", new Character('\u')); 
        
        
        map.put("rang", new Character('\u')); 
        
        
        
        map.put("loz", new Character('\u')); 
        
        map.put("spades", new Character('\u')); 
        
        map.put("clubs", new Character('\u')); 
        map.put("hearts", new Character('\u')); 
        map.put("diams", new Character('\u')); 
        
        map.put("quot", new Character('\u')); 
        map.put("amp", new Character('\u')); 
        map.put("apos", new Character('\''));
        map.put("lt", new Character('\u')); 
        map.put("gt", new Character('\u')); 
        
        map.put("OElig", new Character('\u')); 
        map.put("oelig", new Character('\u')); 
        
        map.put("Scaron", new Character('\u')); 
        map.put("scaron", new Character('\u')); 
        map.put("Yuml", new Character('\u')); 
        
        map.put("circ", new Character('\u')); 
        map.put("tilde", new Character('\u')); 
        
        map.put("ensp", new Character('\u')); 
        map.put("emsp", new Character('\u')); 
        map.put("thinsp", new Character('\u')); 
        map.put("zwnj", new Character('\u')); 
        map.put("zwj", new Character('\u')); 
        map.put("lrm", new Character('\u')); 
        map.put("rlm", new Character('\u')); 
        map.put("ndash", new Character('\u')); 
        map.put("mdash", new Character('\u')); 
        map.put("lsquo", new Character('\u')); 
        map.put("rsquo", new Character('\u')); 
        map.put("sbquo", new Character('\u')); 
        map.put("ldquo", new Character('\u')); 
        map.put("rdquo", new Character('\u')); 
        map.put("bdquo", new Character('\u')); 
        map.put("dagger", new Character('\u')); 
        map.put("Dagger", new Character('\u')); 
        map.put("permil", new Character('\u')); 
        map.put("lsaquo", new Character('\u')); 
        
        map.put("rsaquo", new Character('\u')); 
        
        map.put("euro", new Character('\u')); 
    }
    

    
    public static char decodeEntity(String name) {
        if (name.startsWith("#x")) {
            try {
                return (char)Integer.parseInt(name.substring(2),16);
            }
            catch(NumberFormatException nfe) {
                return '\0';
            }
        }
        if (name.startsWith("#")) {
            try {
                return (char)Integer.parseInt(name.substring(1));
            }
            catch(NumberFormatException nfe) {
                return '\0';
            }
        }
        Character c = map.get(name);
        if (c == null)
            return '\0';
        else
            return c.charValue();
    }
    
    
    public static String decodeString(String s) {
        int pos_amp = s.indexOf('&');
        if (pos_amp == -1) return s;
        
        int pos_sc;
        int pos_a;
        StringBuffer buf = new StringBuffer(s.substring(0, pos_amp));
        char replace;
        while (true) {
            pos_sc = s.indexOf(';', pos_amp);
            if (pos_sc == -1) {
                buf.append(s.substring(pos_amp));
                return buf.toString();
            }
            pos_a = s.indexOf('&', pos_amp + 1);
            while (pos_a != -1 && pos_a < pos_sc) {
                buf.append(s.substring(pos_amp, pos_a));
                pos_amp = pos_a;
                pos_a = s.indexOf('&', pos_amp + 1);
            }
            replace = decodeEntity(s.substring(pos_amp + 1, pos_sc));
            if (s.length() < pos_sc + 1) {
                return buf.toString();
            }
            if (replace == '\0') {
                buf.append(s.substring(pos_amp, pos_sc + 1));
            }
            else {
                buf.append(replace);
            }
            pos_amp = s.indexOf('&', pos_sc);
            if (pos_amp == -1) {
                buf.append(s.substring(pos_sc + 1));
                return buf.toString();
            }
            else {
                buf.append(s.substring(pos_sc + 1, pos_amp));
            }
        }
    }
}